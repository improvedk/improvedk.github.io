<!DOCTYPE html>
<html>
	

<head>
	<title>Converting Between Base 2, 10 and 16 in T-SQL | Mark S. Rasmussen</title>
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
	<meta charset="UTF-8" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="website" />
	<meta name="google-site-verification" content="alt7-wfK3ZujMQ4D0jYNd0yC5LGetGdqBlBmZsqQlVw" />
	<link rel="alternative" href="http://feeds.feedburner.com/Improvedk" title="Mark S. Rasmussen" type="application/atom+xml">
	<script src="/js/combined.js"></script>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-2479580-1', 'improve.dk');
		ga('require', 'displayfeatures');
		ga('send', 	'pageview');
	</script>
	<link rel="stylesheet" href="/css/style.css" type="text/css" />
	<link rel="stylesheet" href="/css/print.css" type="text/css" media="print" />
</head>
	<body>
		<div id="headerline"></div>
	
		<header>
			<div class="wrapper">
				<div id="title">
					<a href="/">Mark S. Rasmussen</a> <span>improve.dk</span>
				</div>
				
				<nav>
					<ul class="normal">
						<li class="navicon"></li>
						<li><a href="/about-me/">About Me</a></li>
					</ul>
				</nav>
				
				<ul id="sharing">
					<li><a href="mailto:mark@improve.dk" id="shareat"></a></li>
					<li><a href="http://feeds.feedburner.com/Improvedk" id="rssfeed"></a></li>
					<li><a href="https://twitter.com/improvedk" id="sharetwitter"></a></li>
					<li><a href="https://github.com/improvedk" id="sharegithub"></a></li>
					<li><a href="https://www.linkedin.com/in/markrasmussen/" id="sharelinkedin"></a></li>
				</ul>

				<div class="clear"></div>
				
				<div id="naviconcontent">
					<ul class="mobile">
						<li>
							Pages
							<ul class="pages"></ul>
						</li>
						<li>
							Categories
							<ul class="categories"></ul>
						</li>
						<li>
							Archive
							<ul class="archive"></ul>
						</li>
					</ul>
				</div>
			</div>
		</header>

		<div id="mainwrapper">
			<div id="contentwrapper">
				<div id="content">
				
					<article>
	<div class="datebox">
		<div class="upper">
			<span class="month">Jul</span>
			<span class="day">11</span>
		</div>
		<div class="lower">2011</div>
	</div>

	<div class="title">
		<h1><a href="/converting-between-base-2-10-and-16-in-t-sql/" title="Converting Between Base 2, 10 and 16 in T-SQL" rel="bookmark">Converting Between Base 2, 10 and 16 in T-SQL</a></h1>
		<div class="categories">
			
				<a href="/category/SQL Server - Tricks/">SQL Server - Tricks</a>
				
			
		</div>
		
			<div class="comments">
				<a href="#comments" title="Comment on Converting Between Base 2, 10 and 16 in T-SQL">Comments</a>
			</div>
		
		<div class="clear"></div>
	</div>

	<div id="bodywrapper" class="single">

		
		
			<div class="body">
			
				<p>There are many <a href="http://en.wikipedia.org/wiki/List_of_numeral_systems" target="_blank">numeral systems</a>, the most common ones in computer science being <a href="http://en.wikipedia.org/wiki/Binary_numeral_system" target="_blank">binary</a> (base 2), <a href="http://en.wikipedia.org/wiki/Decimal" target="_blank">decimal</a> (base 10) and <a href="http://en.wikipedia.org/wiki/Hexadecimal" target="_blank">hexadecimal</a> (base 16). All numbers can be expressed in either system and you may now and then need to convert between them.</p>
<a id="more"></a>

<p>Take the number 493.202.384 as an example, it can be be expressed as either 0n493202384 in decimal, 0x1D65ABD0 in hexadecimal or 0b11101011001011010101111010000 in binary. Note how the 0n prefix declares a decimal value, 0x a hexadecimal and 0b a binary value.</p>
<h2 id="Converting_using_Google">Converting using Google</h2>
<p>If you’ve got an internet connection, the quickest and simplest way is often to just use Google. We can convert the above number using “in X” queries:</p>
<p><a href="http://www.google.dk/search?sourceid=chrome&amp;ie=UTF-8&amp;q=493202384+in+hex" target="_blank">493202384 in hex</a><br><a href="http://www.google.dk/search?sourceid=chrome&amp;ie=UTF-8&amp;q=493202384+in+binary" target="_blank">493202384 in binary</a></p>
<h2 id="Converting_using_Windows_Calculator">Converting using Windows Calculator</h2>
<p>You can also open Windows Calculator, switch to the programmer mode and type in the decimal value (or the hex/binary value):</p>
<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_25.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_25.png" style="max-height: 250px"/></a></div></div>

<p>And from then on we can just switch the numerical system selector to the left:</p>
<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_43.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_43.png" style="max-height: 250px"/></a></div></div>

<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_63.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_63.png" style="max-height: 250px"/></a></div></div>

<h2 id="Converting_between_decimal_&amp;_hex_in_T-SQL">Converting between decimal &amp; hex in T-SQL</h2>
<p>Sometimes however, it’s just a tad easier if we could do it directly from a T-SQL query. Converting between decimal and hexadecimal is straightforward and can be done using just built in functions:</p>
<figure class="highlight sql"><pre><span class="comment">-- Decimal to hex</span>
<span class="operator"><span class="keyword">SELECT</span> <span class="keyword">CAST</span>(<span class="number">493202384</span> <span class="keyword">AS</span> varbinary)

-- Hex <span class="keyword">to</span> <span class="keyword">decimal</span>
<span class="keyword">SELECT</span> <span class="keyword">CAST</span>(<span class="number">0x1D65ABD0</span> <span class="keyword">AS</span> <span class="keyword">int</span>)

-- <span class="keyword">Decimal</span> <span class="keyword">to</span> hex <span class="keyword">to</span> <span class="keyword">decimal</span>
<span class="keyword">SELECT</span> <span class="keyword">CAST</span>(<span class="keyword">CAST</span>(<span class="number">493202384</span> <span class="keyword">AS</span> varbinary) <span class="keyword">AS</span> <span class="keyword">int</span>)</span>
</pre></figure>

<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_84.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_84.png" style="max-height: 250px"/></a></div></div>

<h2 id="Converting_binary_to_decimal_using_T-SQL">Converting binary to decimal using T-SQL</h2>
<p>Converting to/from binary is a bit more tricky though, as there are no built in functions for formatting a decimal number as a binary string, nor converting the latter to the first.</p>
<p>The following function takes in a binary string and returns a bigint with the decimal value:</p>
<figure class="highlight sql"><pre><span class="operator"><span class="keyword">CREATE</span> FUNCTION [dbo].[BinaryToDecimal]
(
	@<span class="keyword">Input</span> <span class="keyword">varchar</span>(<span class="number">255</span>)
)
RETURNS bigint
<span class="keyword">AS</span>
<span class="keyword">BEGIN</span>

	<span class="keyword">DECLARE</span> @Cnt tinyint = <span class="number">1</span>
	<span class="keyword">DECLARE</span> @Len tinyint = LEN(@<span class="keyword">Input</span>)
	<span class="keyword">DECLARE</span> @<span class="keyword">Output</span> bigint = <span class="keyword">CAST</span>(SUBSTRING(@<span class="keyword">Input</span>, @Len, <span class="number">1</span>) <span class="keyword">AS</span> bigint)

	WHILE(@Cnt &lt; @Len) <span class="keyword">BEGIN</span>
		<span class="keyword">SET</span> @<span class="keyword">Output</span> = @<span class="keyword">Output</span> + POWER(<span class="keyword">CAST</span>(SUBSTRING(@<span class="keyword">Input</span>, @Len - @Cnt, <span class="number">1</span>) * <span class="number">2</span> <span class="keyword">AS</span> bigint), @Cnt)

		<span class="keyword">SET</span> @Cnt = @Cnt + <span class="number">1</span>
	<span class="keyword">END</span>

	RETURN @<span class="keyword">Output</span>	

<span class="keyword">END</span></span>
</pre></figure>

<p>The function looks at each char in the input string (starting from behind), adding POWER(2, @Cnt) to the result if the bit is set – with special handling of the first (that is, from behind) character since POWER(2, 0) is 1 while we need it to be 0.</p>
<p>Usage is straight forward:</p>
<figure class="highlight sql"><pre><span class="operator"><span class="keyword">SELECT</span> dbo.BinaryToDecimal(<span class="string">'11101011001011010101111010000'</span>)</span>
</pre></figure>

<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_182.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_182.png" style="max-height: 250px"/></a></div></div>

<h2 id="Converting_decimal_to_binary_using_T-SQL">Converting decimal to binary using T-SQL</h2>
<p>The following function takes a bigint as input and returns a varchar with the binary representation, using the <a href="http://www.wikihow.com/Convert-from-Decimal-to-Binary" target="_blank">short division by two with remainder</a> algorithm:</p>
<figure class="highlight sql"><pre><span class="operator"><span class="keyword">CREATE</span> FUNCTION [dbo].[DecimalToBinary]
(
	@<span class="keyword">Input</span> bigint
)
RETURNS <span class="keyword">varchar</span>(<span class="number">255</span>)
<span class="keyword">AS</span>
<span class="keyword">BEGIN</span>

	<span class="keyword">DECLARE</span> @<span class="keyword">Output</span> <span class="keyword">varchar</span>(<span class="number">255</span>) = <span class="string">''</span>

	WHILE @<span class="keyword">Input</span> &gt; <span class="number">0</span> <span class="keyword">BEGIN</span>

		<span class="keyword">SET</span> @<span class="keyword">Output</span> = @<span class="keyword">Output</span> + <span class="keyword">CAST</span>((@<span class="keyword">Input</span> % <span class="number">2</span>) <span class="keyword">AS</span> <span class="keyword">varchar</span>)
		<span class="keyword">SET</span> @<span class="keyword">Input</span> = @<span class="keyword">Input</span> / <span class="number">2</span>

	<span class="keyword">END</span>

	RETURN REVERSE(@<span class="keyword">Output</span>)

<span class="keyword">END</span></span>
</pre></figure>

<p>Again usage is straight forward:</p>
<figure class="highlight sql"><pre><span class="operator"><span class="keyword">SELECT</span> dbo.DecimalToBinary(<span class="number">493202384</span>)</span>
</pre></figure>

<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_123.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_123.png" style="max-height: 250px"/></a></div></div>

<h2 id="Ensuring_correctness">Ensuring correctness</h2>
<p>A simple test to ensure correct conversions would be to convert from A to B and back to A again, using both of the above functions. Thus whatever we give as input should be the output as well:</p>
<figure class="highlight sql"><pre><span class="operator"><span class="keyword">SELECT</span> dbo.DecimalToBinary(dbo.BinaryToDecimal(<span class="string">'11101011001011010101111010000'</span>))
<span class="keyword">SELECT</span> dbo.BinaryToDecimal(dbo.DecimalToBinary(<span class="number">493202384</span>))</span>
</pre></figure>

<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_202.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_202.png" style="max-height: 250px"/></a></div></div>

<p>Et voilá! Once we have the functions, they can easily be used in a normal query:</p>
<figure class="highlight sql"><pre><span class="operator"><span class="keyword">SELECT</span>
	object_id,
	<span class="keyword">CAST</span>(object_id <span class="keyword">AS</span> varbinary) <span class="keyword">AS</span> object_id_hex,
	dbo.DecimalToBinary(object_id) <span class="keyword">AS</span> object_id_binary
<span class="keyword">FROM</span>
	sys.objects</span>
</pre></figure>

<div class="imgwrapper" style=""><div><a href="/converting-between-base-2-10-and-16-in-t-sql/image_162.png" class="fancy"><img src="/converting-between-base-2-10-and-16-in-t-sql/image_162.png" style="max-height: 250px"/></a></div></div>


				<div style="clear: both"></div>

				
					<div id="postsharing">
						<a href="https://twitter.com/home?status=Converting%20Between%20Base%202%2C%2010%20and%2016%20in%20T-SQL%20http%3A%2F%2Fimprove.dk%2Fconverting-between-base-2-10-and-16-in-t-sql%2F%20via%20%40improvedk" target="_blank" class="twitter"></a>
						<a href="https://www.facebook.com/sharer.php?u=http%3A%2F%2Fimprove.dk%2Fconverting-between-base-2-10-and-16-in-t-sql%2F" target="_blank" class="facebook"></a>
						<a href="http://reddit.com/submit?url=http%3A%2F%2Fimprove.dk%2Fconverting-between-base-2-10-and-16-in-t-sql%2F&title=Converting%20Between%20Base%202%2C%2010%20and%2016%20in%20T-SQL" target="_blank" class="reddit"></a>
						<a href="https://github.com/improvedk/improve.dk/blob/master/source/_posts/converting-between-base-2-10-and-16-in-t-sql/converting-between-base-2-10-and-16-in-t-sql.md" target="_blank" title="View source" class="github"></a>
					</div>

					<div id="bio">
						<div class="avatar"></div>
						<div class="wrapper">
							<div class="name">Mark S. Rasmussen</div>
							<div class="description">
								I'm the CTO at <a href="http://www.ipaper-cms.com/">iPaper</a> where I cuddle with databases, mold code and maintain the overall technical &amp; team responsibility. I'm an avid speaker at user groups &amp; conferences. I love life, motorcycles, photography and all things technical. Say hi on <a href="http://twitter.com/improvedk">Twitter</a>, write me an <a href="mailto:mark@improve.dk">email</a> or look me up on <a href="http://dk.linkedin.com/in/markrasmussen/">LinkedIn</a>.
							</div>
						</div>
						<div class="clear"></div>
					</div>
				

			</div>

		

		
			<a name="comments"></a>
<div id="disqus_thread"></div>
<script type="text/javascript">
	var disqus_shortname = 'improvedk';
	var disqus_identifier = 'converting-between-base-2-10-and-16-in-t-sql';
	var disqus_url = 'http://improve.dk/converting-between-base-2-10-and-16-in-t-sql/';

	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
		

	</div>
</article>

				</div>
			</div>

			<div id="asides">
				<div class="categories aside">
					<span class="sectiontitle">CATEGORIES</span>
					<ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/category/.NET/">.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/AS/Flex/Flash/">AS/Flex/Flash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Amazon Web Services/">Amazon Web Services</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Computer Science/">Computer Science</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Conferences and Presenting/">Conferences and Presenting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/IIS/">IIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Life/">Life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Miscellaneous/">Miscellaneous</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Performance/">Performance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Poker/">Poker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server/">SQL Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server - Community/">SQL Server - Community</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server - Data Types/">SQL Server - Data Types</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server - Internals/">SQL Server - Internals</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server - Optimization/">SQL Server - Optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server - OrcaMDF/">SQL Server - OrcaMDF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/SQL Server - Tricks/">SQL Server - Tricks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Testing/">Testing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Tools of the Trade/">Tools of the Trade</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Umbraco/">Umbraco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Visual Studio/">Visual Studio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Windbg/">Windbg</a></li><li class="tag-list-item"><a class="tag-list-link" href="/category/Windows/">Windows</a></li></ul>

					
				</div>

				<div class="archive aside">
					<span class="sectiontitle">ARCHIVE</span>
					<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archive/2014">2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2013">2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2012">2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2011">2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2010">2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2009">2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2008">2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2007">2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archive/2006">2006</a></li></ul>
				</div>
			</div>

			<div class="clear"></div>
		</div>
		
		<footer>
			<div class="wrapper">Copyright &copy; 2014 Mark S. Rasmussen</div>
		</footer>

		<script type="text/javascript">
			$(function () {
				// Show mobile menu
				$("li.navicon").click(function () {
					if ($("header ul.mobile a").length == 0) {
						// Pages
						$mobilePages = $("div#naviconcontent ul.pages");
						$("header nav ul.normal > li").not(".navicon").each(function (i, el) {
							$mobilePages.append($(el).clone());
						});

						// Categories
						$mobileCategories = $("div#naviconcontent ul.categories");
						$("div#asides div.categories > ul > li").each(function (i, el) {
							$mobileCategories.append($(el).clone());
						});

						// Archive
						$mobileArchive = $("div#naviconcontent ul.archive");
						$("div#asides div.archive > ul > li").each(function (i, el) {
							$mobileArchive.append($(el).clone());
						});
					};

					$("header ul.mobile").toggle();
				});

				// Fancybox setup
				$("a.fancy").fancybox({
					hideOnContentClick: true,
					overlayShow: true
				});
			});
		</script>
	</body>
</html>